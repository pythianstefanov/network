compare of stat output data:

[LDC-LB2] TMOS v10

[bfelts@LDC-LB2:Active] ~ # tmsh show ltm virtual vs_secure.trumpcasinos.com_443 field-fmt raw
ltm virtual vs_secure.trumpcasinos.com_443 {
    clientside.bits-in 43208536
    clientside.bits-out 149558496
    clientside.cur-conns 0
    clientside.max-conns 228
    clientside.pkts-in 68044
    clientside.pkts-out 109536
    clientside.tot-conns 30236
    cs-max-conn-dur 437044
    cs-mean-conn-dur 46562
    cs-min-conn-dur 6
....

[ldc-dev] TMOS v12

[bfelts@ldcdevlb:Active:Standalone] ~ # tmsh show ltm virtual field-fmt raw TEST_partner-portal.travelclick.com_443
ltm virtual TEST_partner-portal.travelclick.com_443 {
    clientside.bits-in 0
    clientside.bits-out 0
    clientside.cur-conns 0
    clientside.evicted-conns 0
    clientside.max-conns 0
    clientside.pkts-in 0
    clientside.pkts-out 0
    clientside.slow-killed 0
    clientside.tot-conns 0
    cmp-enable-mode all-cpus
    cmp-enabled enabled
    cs-max-conn-dur 0
    cs-mean-conn-dur 0
    cs-min-conn-dur 0
....

+ notice with new version, adds clientside.evicted-conns!

But main difference is our value immediately following clientside.tot-conns and value, that is different now.

Now to see this, we'll compare the methods being used ...

[LDC-LB2]   TMOS v10

tmsh show ltm virtual field-fmt raw $VS | tr -d '\n' | sed 's/.*clientside.tot-conns\(.*\)cs-max-conn-dur.*/\1/'

e.g.  tmsh show ltm virtual field-fmt raw vs_secure.trumpcasinos.com_443 | tr -d '\n' | sed 's/.*clientside.tot-conns\(.*\)cs-max-conn-dur.*/\1/'

This returns... 

xxxxx 

(which is the amount of clientside.tot-conns)

To get this on LDC-DEV and newer TMOS versions alike, we just modify the SED to deal with the change in variable names around what we wanted.

[LDC-DEV]

tmsh show ltm virtual field-fmt raw $VS | tr -d '\n' | sed 's/.*clientside.tot-conns\(.*\)cmp-enable-mode all-cpus.*/\1/'

e.g.  tmsh show ltm virtual field-fmt raw TEST_partner-portal.travelclick.com_443 | tr -d '\n' | sed 's/.*clientside.tot-conns\(.*\)cmp-enable-mode all-cpus.*/\1/'
